<form id="registrationForm" method="post" enctype="multipart/form-data">

	<div id="step1" class="form-step">
		<h1>La Creche</h1>
		{{form_start(form)}}
		{{ form_row(form.creche.introduction)}}
		{{ form_row(form.creche.name) }}
		{{ form_row(form.creche.localisation) }}
		{{ form_row(form.creche.postCode) }}
		{{ form_row(form.creche.city) }}
		{{ form_row(form.creche.phoneNumber) }}
		{{ form_row(form.creche.insuranceNumber) }}
		{{ form_row(form.creche.legalStatus) }}
		{{ form_row(form.creche.rules)}}
		<button type="button" onclick="nextStep(1)" class="btn button_login mt-4 text-uppercase">Next</button>
	</div>

	<div id="step2" class="form-step" style="display: none;">
		<h1>Les Photos</h1>
		{{ form_row(form.photo, {'attr': {'class': 'form-control'}}) }}
		<button type="button" onclick="prevStep(2)" class="btn button_login mt-4 text-uppercase">Previous</button>
		<button type="button" onclick="nextStep(2)" class="btn button_login mt-4 text-uppercase">Next</button>
	</div>

	<div id="step3" class="form-step" style="display: none;">
		<h1>Le planning</h1>
		<ul>
			{{ form_row(form.schedules)}}
		</ul>
		<button type="button" onclick="prevStep(3)" class="btn button_login mt-4 text-uppercase">Previous</button>
		<button type="button" onclick="nextStep(3)" class="btn button_login mt-4 text-uppercase">Next</button>
	</div>

	<div id="step4" class="form-step" style="display: none;">
		<h1>L'equipe</h1>
		{{ form_row(form.teams)}}
		{{ form_end(form) }}
		<button type="button" onclick="prevStep(4)" class="btn button_login mt-4 text-uppercase">Previous</button>
		<button type="submit" class="btn button_login mt-4 text-uppercase">Register</button>
	</div>
</form>

<script>
document.querySelectorAll('.add_item_link').forEach(btn => {
btn.addEventListener("click", addFormToCollection);
});

function showStep(step) { // Masquer toutes les étapes
document.querySelectorAll('.form-step').forEach(function (el) {
el.style.display = 'none';
});

// Afficher l'étape spécifiée
document.getElementById('step' + step).style.display = 'block';

// Mettre à jour la barre de progression
updateProgressBar(step);
}

function nextStep(currentStep) {
// Ajoutez ici la logique de validation nécessaire pour chaque étape
// ...

// Passer à la prochaine étape
showStep(currentStep + 1);
}

function prevStep(currentStep) {
showStep(currentStep - 1);
}

function updateProgressBar(currentStep) { // Calculer la progression en pourcentage
var progress = (currentStep - 1) / 3 * 100;

// Mettre à jour la largeur de la barre de progression
document.querySelector('.progress-bar').style.width = progress + '%';
document.querySelector('.progress-bar').setAttribute('aria-valuenow', progress);
}
</script>
